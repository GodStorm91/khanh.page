<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="To share is to learn">

        <meta property="og:title" content="TIPS - How to install Apache 2.4.41 on Amazon Linux AMI | Khanh&#039;s Blog"/>
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.khanh.page/blog/tips-install-apache-2441-on-amazon-linux"/>
        <meta property="og:description" content="To share is to learn" />

        <title>Khanh&#039;s Blog | TIPS - How to install Apache 2.4.41 on Amazon Linux AMI</title>

        <link rel="home" href="https://www.khanh.page">
        <link rel="icon" href="/favicon.ico">
        <link href="/blog/feed.atom" type="application/atom+xml" rel="alternate" title="Khanh&#039;s Blog Atom Feed">

            <meta property="og:title" content="TIPS - How to install Apache 2.4.41 on Amazon Linux AMI" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.khanh.page/blog/tips-install-apache-2441-on-amazon-linux"/>
    <meta property="og:description" content="Apache 2.4.41 on Amaon Linux AMI" />

                    <!-- Insert analytics code here -->
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=8a9a2a737bf5aeb99a9a">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76723458-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76723458-7');
</script>

    </head>

    <body class="flex flex-col justify-between min-h-screen bg-grey-lightest text-grey-darkest leading-normal font-sans">
        <header class="flex items-center shadow bg-white border-b h-24 py-4" role="banner">
            <div class="container flex items-center max-w-4xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="Khanh&#039;s Blog home" class="inline-flex items-center">
                        <img class="h-8 md:h-10 mr-3" src="/assets/img/logo.svg" alt="Khanh&#039;s Blog logo" />

                        <h1 class="text-lg md:text-2xl text-blue-darkest font-semibold hover:text-blue-dark my-0">Khanh&#039;s Blog</h1>
                    </a>
                </div>

                <div id="vue-search" class="flex flex-1 justify-end items-center">
                    <search></search>

                    <nav class="hidden lg:flex items-center justify-end text-lg">
    <a title="Khanh&#039;s Blog Blog" href="/blog"
        class="ml-6 text-grey-darker hover:text-blue-dark ">
        Blog
    </a>

    <a title="Khanh&#039;s Blog About" href="/about"
        class="ml-6 text-grey-darker hover:text-blue-dark ">
        About
    </a>

    <a title="Khanh&#039;s Blog Contact" href="/contact"
        class="ml-6 text-grey-darker hover:text-blue-dark ">
        Contact
    </a>
</nav>

                    <button class="flex justify-center items-center bg-blue border border-blue h-10 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

                </div>
            </div>
        </header>

        <nav id="js-nav-menu" class="nav-menu hidden lg:hidden">
    <ul class="list-reset my-0">
        <li class="pl-4">
            <a
                title="Khanh&#039;s Blog Blog"
                href="/blog"
                class="nav-menu__item hover:text-blue "
            >Blog</a>
        </li>
        <li class="pl-4">
            <a
                title="Khanh&#039;s Blog About"
                href="/about"
                class="nav-menu__item hover:text-blue "
            >About</a>
        </li>
        <li class="pl-4">
            <a
                title="Khanh&#039;s Blog Contact"
                href="/contact"
                class="nav-menu__item hover:text-blue "
            >Contact</a>
        </li>
    </ul>
</nav>

        <main role="main" class="flex-auto w-full container max-w-xl mx-auto py-16 px-6">
                
    <h1 class="leading-none mb-2">TIPS - How to install Apache 2.4.41 on Amazon Linux AMI</h1>

    <p class="text-grey-darker text-xl md:mt-0">Khanh Nguyen  â€¢  October 21, 2019</p>

                        <a
                href="/blog/categories/tips"
                title="View posts in tips"
                class="inline-block bg-grey-light hover:bg-blue-lighter leading-loose tracking-wide text-grey-darkest uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
            >tips</a>
             <h1 class="text-4xl md:text-5xl lg:text-6xl font-normal"></h1>
    <main class="mt-6 sm:mt-12 text-lg antialiased leading-normal" role="main">
            </main>
    <div class="border-b border-blue-lighter mb-10 pb-4" v-pre>
        <p>This guide will guide you needed steps to install Apache 2.4.41 on Amazon Linux AMI. Apache 2.4.41 has been released on 2019.08 but Amazon has not yet released the package to
Amazon Repositories, so we will have to install it from source.</p>
<h2>1. Yum update</h2>
<pre><code class="language-bash">$ yum -y update</code></pre>
<h2>2. Install OpenSSL 1.1.1</h2>
<h3>2.1 Install perl-core and zlib-devel</h3>
<pre><code class="language-bash">$ yum -y install zlib-devel
$ yum -y install perl-core</code></pre>
<h3>2.2 Install OpenSSL from source</h3>
<ol>
<li>Download the package</li>
</ol>
<pre><code class="language-bash">$ cd /usr/local/src/
$ wget https://www.openssl.org/source/openssl-1.1.1c.tar.gz</code></pre>
<ol start="2">
<li>Run these commands below to unzip, make and install the package</li>
</ol>
<pre><code class="language-bash">$ tar xzvf openssl-1.1.1c.tar.gz
$ cd openssl-1.1.1c
$ ./config --prefix=/usr/local/openssl-1.1.1c shared zlib
$ make depend
$ make
$ make test
$ make install</code></pre>
<ol start="3">
<li>Set the path for OpenSSL</li>
</ol>
<pre><code class="language-bash">$ echo /usr/local/openssl-1.1.1c./lib &gt; /etc/ld.so.conf.d/openssl1111.conf
$ ldconfig</code></pre>
<h2>3. Install prerequisite tools for Apache Httpd</h2>
<p>Prerequisites tools : <code>pcre-devel</code> and <code>expat-devel</code></p>
<pre><code class="language-bash">$ yum -y install pcre-devel
$ yum -y install expat-devel</code></pre>
<h3>Install APR</h3>
<pre><code class="language-bash">$ cd /usr/local/src/
$ wget http://ftp.jaist.ac.jp/pub/apache//apr/apr-1.7.0.tar.gz
$ tar xvzf apr-1.7.0.tar.gz
$ cd apr-1.7.0/
$ ./configure
$ make
$ make install</code></pre>
<h3>Install APR Util</h3>
<pre><code class="language-bash">$ cd /usr/local/src/
$ wget http://ftp.jaist.ac.jp/pub/apache//apr/apr-util-1.6.1.tar.gz
$ tar xvzf apr-util-1.6.1.tar.gz
$ cd apr-util-1.6.1/
$ ./configure --with-apr=/usr/local/apr
$ make
$ make install</code></pre>
<h2>4. Install Apache 2.4.41</h2>
<pre><code class="language-bash">$ cd /usr/local/usr
$ wget http://ftp.jaist.ac.jp/pub/apache//httpd/httpd-2.4.41.tar.gz</code></pre>
<p>Unzip the downloaded file and change to that directory</p>
<pre><code class="language-bash">$ tar xvzf httpd-2.4.41.tar.gz
$ cd httpd-2.4.41</code></pre>
<p>Config and build from source</p>
<pre><code class="language-bash">./configure \
--enable-http2 \
--enable-ssl \
--with-ssl=/usr/local/openssl-1.1.1c \
--with-apr=/usr/local/apr \
--with-apr-util=/usr/local/apr \
--enable-so \
--enable-mods-shared=all \
--enable-mpms-shared=all

make
make install</code></pre>
<p>We can check the server information by running:</p>
<pre><code class="language-bash">$ /usr/local/apache2/bin/httpd -v</code></pre>
<h2>5. Thoughts</h2>
<p>Apache 2.4.41 fixed some CVEs that has been noted from 2.4.39, so it is advised that you guys should update to this version asap.</p>    </div>

    <nav class="flex justify-between text-sm md:text-base">
        <div>
                            <a href="https://www.khanh.page/blog/tips-install-mcrypt-on-php73" title="Older Post: TIPS - How to install multiple PHP versions on Centos 7 and config PHP versions base on Directory">
                    &LeftArrow; TIPS - How to install multiple PHP versions on Centos 7 and config PHP versions base on Directory
                </a>
                    </div>

        <div>
                            <a href="https://www.khanh.page/blog/others-my-dev-day" title="Newer Post: Others - My Dev day">
                    Others - My Dev day &RightArrow;
                </a>
                    </div>
    </nav>
        </main>

        <footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center list-reset">
                <li class="md:mr-2">
                    &copy; <a href="https://tighten.co" title="Tighten website">Tighten</a> 2020.
                </li>

                <li>
                    Built with <a href="http://jigsaw.tighten.co" title="Jigsaw by Tighten">Jigsaw</a>
                    and <a href="https://tailwindcss.com" title="Tailwind CSS, a utility-first CSS framework">Tailwind CSS</a>.
                </li>
            </ul>
        </footer>

        <script src="/assets/build/js/main.js?id=cc825c909d6cbf1b0707"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>
    </body>
            
</html>
