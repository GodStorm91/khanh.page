<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Khanh&#039;s Blog</title>
    <link href="https://blog.khanh.page" />
    <link type="application/atom+xml" rel="self" href="https://blog.khanh.page/blog/feed.atom" />
    <updated>2019-06-20T04:37:00+00:00</updated>
    <id>https://blog.khanh.page/blog/feed.atom</id>
    <author>
        <name>Khanh Nguyen</name>
    </author>
                <entry>
    <id>https://blog.khanh.page/blog/til-404-redirect-in-s3</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/til-404-redirect-in-s3" />
    <title>TIL - 404 Redirect in S3 static blog post</title>
    <published>2019-06-20T00:00:00+00:00</published>
    <updated>2019-06-20T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">Today I received a comment from my friends telling me that my blog doesn&#039;t redirect to 404.
Oops...
I should have been set it from the beginning instead of making my blog showing something like this:

We should have been let user see something much more......</summary>
    <content type="html"><![CDATA[
        <p>Today I received a comment from my friends telling me that my blog doesn't redirect to 404.
Oops...
I should have been set it from the beginning instead of making my blog showing something like this:</p>
<pre><code>403 Forbidden
Code: AccessDenied
Message: Access Denied
RequestId: 5F9506201FD3BF09
HostId: DlHKCh+6eIyX1OILlLEt2FVz2BMgn3luo6lNcx6xxMr3F0wntH5jDqHQ78Q77i1JWcoEN9xb//c=</code></pre>
<p>We should have been let user see something much more <strong>friendly</strong> instead of something frank, coldhearted like the error above.
Below is the steps I have done to make it works.</p>
<ol>
<li>Create a 404 folder and its content (the friendlier things I want my user to see)</li>
<li>Settings S3 error pages in AWS console</li>
<li>Invalidate cloudfront cache (in case you are using Cloudfront as your CDN)</li>
</ol>
<h3>1. Create a 404 folder</h3>
<p>I've used <code>Jigsaw</code> as my blog cms, so things is super easy. I just have to create a <code>404.blade.php</code> and put it in my root directory. When I do compile the code for deploy, <code>404.html</code> file will be generated.</p>
<pre><code class="language-html">@extends('_layouts.master')

@section('body')
    &lt;div class="flex flex-col items-center text-grey-darker mt-32"&gt;
        &lt;h1 class="text-6xl font-light leading-none mb-2"&gt;404&lt;/h1&gt;

        &lt;h2 class="text-3xl"&gt;Page not found.&lt;/h2&gt;

        &lt;hr class="block w-full max-w-sm mx-auto border my-8"&gt;

        &lt;p class="text-xl"&gt;
            Need to update this page? See the &lt;a title="404 Page Documentation" href="https://jigsaw.tighten.co/docs/custom-404-page/"&gt;Jigsaw documentation&lt;/a&gt;.
        &lt;/p&gt;
    &lt;/div&gt;
@endsection</code></pre>
<p>Now, things is pretty better like this </p>
<p><img src="/assets/img/custom-404.png" alt="404-image" /></p>
<h3>2. Settings S3 error pages in AWS Console</h3>
<p>S3 console provide a way to set your error pages (whenever some key is not found or permission forbidden)
You can set the error pages as below (the path will be based on the bucket root directory )</p>
<p><img src="/assets/img/s3-error-config.png" alt="s3-error-config" /></p>
<p>If you don't use any CDN, you can skip step 3, everything now should work fine.
If you use CDN, you need to clear the cache (or request invalidation as in AWS )</p>
<h3>3. Create invalidation request</h3>
<p>You can use AWS Console to create invalition request ( a cache clear request - all of the cache will be updated to the newest contents from origin - so this is an expensive step, please use it considerably).</p>
<p>I use aws command line to create invalidation, you can use my command or console to create invalidation.</p>
<pre><code class="language-bash"> aws cloudfront create-invalidation --distribution-id &lt;distribution_id&gt; --paths "/*" --profile &lt;profile_id&gt;</code></pre>
<p>After that, you can confirm whether your changes have been updated and delegated to all edge locations
(Please wait about 4,5 minutes for changes completely reflected all edge locations.)</p>    ]]></content>
</entry>
            <entry>
    <id>https://blog.khanh.page/blog/what-i-read-beginner-mind-zen-beginner&#039;s-mind</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/what-i-read-beginner-mind-zen-beginner&#039;s-mind" />
    <title>What I read - Zen Mind, Beginner&#039;s Mind Informal Talks on Zen Meditation and Practice</title>
    <published>2019-05-09T00:00:00+00:00</published>
    <updated>2019-05-09T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">Đây là quyển mình đã dành khoảng cuối tháng 4 để đọc. Tất nhiên chủ đề của quyển sách này như tựa của nó, không hướng về lịch sử mà lần này là thiên về
&lt;code&gt;thiền&lt;/code&gt; của thiền sư......</summary>
    <content type="html"><![CDATA[
        <p>Đây là quyển mình đã dành khoảng cuối tháng 4 để đọc. Tất nhiên chủ đề của quyển sách này như tựa của nó, không hướng về lịch sử mà lần này là thiên về
<code>thiền</code> của thiền sư <a href="https://en.wikipedia.org/wiki/Shunry%C5%AB_Suzuki">Shunryu Suzuki</a></p>
<p>Ông chính là người đã đưa thiền thuật đến với thế giới phương Tây và phát triển nó ( thầy Thích Nhất Hạnh, hay các Rinpoche của phật giáo Tây Tạng cũng là những người đầu tiên đưa phật giáo thực hành phương Đông đến với phương Tây).</p>
<p>Quyển sách có 3 phần chính như bên dưới </p>
<ol>
<li>Luyện tập đúng</li>
<li>Thái độ đúng</li>
<li>Hiểu đúng </li>
</ol>
<p>Thật ra thì Shunryu Suzuki không phải là người viết nên quyển sách này, nhưng đây là quyển sách được ghi lại bởi Richard Baker, người mà sau này trở thành truyền nhân chính thức của Suzuki trong Soto Zen, một tổ chức truyền bá thực hành Thiền Soto ở phương Tây</p>
<p>Mình có vài điều đọng lại rất lâu sau khi đọc quyển sách này.</p>
<h3>1. Đi về phương đông một dặm , cũng là đi về phương Tây một dặm.</h3>
<p>Câu này nghe thì hơi vô lý. Vì Đông - Tây là hai khái niệm ngược nhau hoàn toàn. Nhưng, sẽ như thế nào nếu chúng ta biết trái đất là hình cầu? Đi về phương Đông cũng chính là đi về phương Tây, vì thật ra trái Đất hình cầu, chúng ta nếu cứ đi mãi về phía Đông, chẳng phải sẽ đến phía Tây sao? </p>
<h3>2. Chỉ cần thực hiện nó - Quên đi con người lý tính cũng như trạng tính, quên đi cả bản thân chúng ta khi đang luyện tập.</h3>
<p>Chúng ta thường hay luyện tập một thứ gì đó, và nghĩ ra thêm hàng tá lí do để thực hiện nó. Ví dụ, tôi chạy bộ vì : chạy bộ tốt cho tim mạch này, chạy bộ giúp tôi giảm stress này, chạy bộ giúp tôi cân đối tiêu mỡ, ... Vậy thì khi chạy bộ, trong đầu chúng ta sẽ có hàng tỉ tưởng tượng diễn ra trong đầu... và nếu thế thì việc chạy bộ sẽ không còn ở mức cao nhất của nó. Điều này làm mình nhớ tới quyển: <code>Running Meditation</code> mà mình có review ở đây <a href="http://nech.info/2018/07/13/running-with-the-mind-of-meditation-phan-1-xay-dung-nen-tang/">Link</a> . Tất nhiên chúng ta có nhiều level, nhưng cao nhất là khi chúng ta là một với điều chúng ta đang luyện tập. </p>
<h3>3. Và để giải quyết vấn đề, hãy là một phần của vấn đề</h3>
<p>Chúng ta khi vừa ra đời đã khóc. Cuộc đời của chúng ta sẽ có rất nhiều <code>vấn đề</code>  phía trước. Vậy thì <strong>Vấn đề</strong> chính là một phần của chúng ta. Chúng ta sẽ không hiện hữu nếu không có vấn đề. Khi và chỉ khi chúng ta trở thành một với vấn đề thì vấn đề mới được giải quyết. Tất nhiên, sẽ không bao giờ hết vấn đề cả. Và ngay cả sau khi chết, vẫn còn có vấn đề.</p>
<h3>4. Hãy nuôi dưỡng tâm hồn. Nhưng đừng có phễu lọc khi tiếp nhận chúng.</h3>
<p>Thời đại internet phát triển, chúng ta hay có khẩu hiệu <strong>Hãy nuôi dưỡng tâm hồn</strong> , và để nuôi dưỡng tâm hồn, chúng ta làm gì nào: </p>
<ul>
<li>Chúng ta đi đi đi và đi tìm nó ở tít các <em>Vương Quốc Hạnh Phúc</em>, <em>Xứ sở cờ hoa</em> ... </li>
<li>Chúng ta đọc sách một cách công nghiệp, đọc một cách không phân biệt hay dở mà chỉ đọc số lượng.</li>
<li>Chúng ta ngồi thiền và mơ mộng một ngày nào đó chúng ta sẽ thành công. Chúng ta khinh bỉ những đứa không thiền, cho rằng nó là một tâm hồn thui chột, chúng ta là thanh cao.</li>
</ul>
<p>Khi tiếp nhận thông tin, chúng ta thường mang ý muốn sở hữu chúng, thông tin đều phải đi qua bộ lọc của chúng ta, chúng ta thường hay chỉ thích nghe những thông tin <strong>phù hợp với suy nghĩ của mình từ trước</strong>. Giả sử bạn nhìn thấy một ngọn núi cao và đẹp khi đi du lịch, nhưng nó không đẹp như trong cái Wallpaper của bạn đang lưu trong máy tính. Bạn phụng phịu bảo <em>'Trong máy tính của mình còn đẹp hơn'</em>. Không, hãy cảm nhận cảnh ở đó, không so sanh gì với bất kì những thứ có trước đó, đừng cố gắng co ép mọi thứ theo ý mình. Đó mới là điều quan trọng.</p>
<h3>5. Và để đón nhận được sự thật - Là phải sống lúc này, ở đây</h3>
<p>Đây cũng là một câu nói quen thuộc của thiền sư Thích Nhật Hạnh, khi ông nói về hạnh phúc. Đơn giản là <strong>Lúc này, Ở đây</strong> hay <strong>Đã về, Đã tới</strong> . Đây cũng chính là sự thật duy nhất trong vũ trụ, khi Đức Phật nhắc đến trong kinh kệ của ngài, Hạnh phúc - Trí Tuệ - Vũ Trụ nằm trong mỗi sát-na. Chúng ta không cần tìm kiếm ở tương lai, không cần nuối tiếc quá khứ, khoảng cách địa lý là vô nghĩa, nếu có thể sống <strong>Lúc này, Ở đây</strong>.</p>
<h2>What's Next</h2>
<p>Mình đang đọc quyển <a href="https://www.goodreads.com/book/show/38526454-enlightment-now">Enlightment Now</a> và sẽ lại review sau khi hoàn tất</p>    ]]></content>
</entry>
            <entry>
    <id>https://blog.khanh.page/blog/what-i-read-genghis-khan</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/what-i-read-genghis-khan" />
    <title>What I read - Genghis Khan and the Making of the Modern World</title>
    <published>2019-05-01T00:00:00+00:00</published>
    <updated>2019-05-01T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">Tiếp nối những quyển sách lịch sử, tháng 3 và một nửa tháng 4 của mình đã đọc quyển sách này. 

Cũng không có nhiều lý do lắm đâu 

Mình luôn thích sống kiểu Normadic (du canh du cư). Ai cần một ngôi......</summary>
    <content type="html"><![CDATA[
        <p>Tiếp nối những quyển sách lịch sử, tháng 3 và một nửa tháng 4 của mình đã đọc quyển sách này. </p>
<h2>Tại sao mình lại chọn quyển này ?</h2>
<p>Cũng không có nhiều lý do lắm đâu </p>
<ul>
<li>Mình luôn thích sống kiểu <strong>Normadic</strong> (du canh du cư). Ai cần một ngôi nhà nào ? </li>
<li>Genghis Khan là một trong những vị tướng lĩnh tài ba (khi có thể thống nhất được các bộ lạc Mongols), và tất nhiên còn là một nhà chính trị kiệt xuất nữa.</li>
<li>Năm nay mình muốn đọc 4 quyển lịch sử, đây là quyển thứ 3</li>
</ul>
<p>Đấy, chỉ đơn giản là như thế thôi </p>
<h2>Nội dung quyển sách</h2>
<p>Quyển sách được chia làm 3 phần chính:</p>
<ol>
<li>Cuộc đời của Genghis Khan thưở còn ấu thơ</li>
<li>Cuộc chinh phạt thống nhất các bộ tộc Mongolia và chống lại các vương quốc Hồi Giáo (Iraq, Iran, Syria)</li>
<li>Cuộc chinh phạt của người Mongolia sau khi Genghis Khan qua đời (Khubilai thống Nhất Trung Quốc...)</li>
</ol>
<h2>Những điều ngộ nhận trước khi đọc sách</h2>
<p>Tất nhiên trước khi đọc quyển sách này, dù cũng rất thần tượng người Mongolia, nhưng so với các Kỵ sĩ Paladin của Châu Âu thì mình vẫn nghiêng về phía các kỵ binh châu Âu. Tuy nhiên đọc xong quyển sách mình mới thấy rằng việc Mongolia thắng được các Kỵ Binh châu Âu là điều cực kì hợp lý. Ngoài ra mình còn cho rằng Mongolia là man tộc, thắng chẳng qua là nhờ <strong>ăn may</strong>, chẳng hạn như lúc đó, tại Trung Nguyên, Tống đang đánh nhau với Kim, Mongolia đánh Kim thắng là nhờ Kim đang dồn quân với Tống (cũng sai nốt. Lúc này thật ra là Mông Cổ liên quân với Tống, cùng nhau đánh Kim.). Và mình cũng cho rằng đây là thời kì đen tối của châu Á, vì một tộc Man di như Mongol lại làm trùm cả châu Á, đạp lên trên cả <strong>Trung Hoa</strong> anh hùng thì thật là nhọ cho châu Á. Nói chung là ban đầu mình không có cái nhìn thiện cảm lắm với việc đi chinh phạt của Mongol, sâu xa hơn là không chịu có một bộ lạc chăn thả lại thắng cả một nền văn minh lúa nước, phát minh ra giấy, la bàn, thuốc súng như Trung Hoa.
Tất nhiên là mọi thứ đều có lý do của nó cả. </p>
<h2>Những thông tin / điều mình học được sau khi đọc quyển sách</h2>
<p>Nói về những thông tin trong sách thì cực kì nhiều luôn. Thôi để mình chắc lọc lại </p>
<ol>
<li>Cha của Gengis Khan, không phải là cha ruột của ông ấy. Mẹ ông ấy bị cướp đi khi cha ruột đang dẫn mẹ ông ấy về lại bộ tộc của mình.</li>
</ol>
<blockquote>
<p>Những bộ lạc du mục, khi một người con trai muốn cưới một người con gái, họ phải đến làm việc cho nhà gái từ 3,4 năm để chứng tỏ năng lực lao động của mình. Cha của Gengis Khan đã ở rể được 3 năm, và khi đang đưa mẹ của Genghis Khan quay lại bộ tộc thì bị cha nuôi của Genghis Khan cướp mất. Và đó là lần cuối cùng Mẹ của Genghis Khan gặp mặt cha ông ấy.</p>
</blockquote>
<ol start="2">
<li>Genghis Khan đã giết anh trai cả của mình sau khi cha ông ấy qua đời.</li>
</ol>
<blockquote>
<p>Đây là một câu chuyện khác, người cha dượng của Genghis Khan đã có vợ và con, theo luật bộ tộc khi người cha qua đời, con trai trưởng có quyền lên thay thế, và cưới hết vợ của cha mình !??? , đây là một trong những lý do Genghis Khan đã giết người con cả này và lên nắm quyền điều khiển gia đình thay cho người anh ấy. Tất nhiên việc này khiến cả gia đình Genghis Khan phải bị bỏ lại, và ông phải tự xây dựng bộ tộc cho riêng mình.</p>
</blockquote>
<ol start="3">
<li>Genghis Khan là một người khá chung thuỷ</li>
</ol>
<blockquote>
<p>Tại sao mình lại nhận định như vậy? Vì khi ông đang xây dựng bộ tộc của mình, trong một lần đi săn, vợ của ông là Borte, đã bị bộ lạc Merkid cướp đi, ông đã phải nhờ tới bạn của bố dượng là Ong Khan để mượn binh cướp lại vợ mình, về sau khi đã nắm quyền ở Mongol ông vẫn xem bà là vợ chính thức duy nhất, và bà là Hoàng Hậu duy nhất của cả đế chế.</p>
</blockquote>
<ol start="4">
<li>Gengis Khan là một người tài giỏi ở cả lĩnh vực chính trị và khoa học.</li>
</ol>
<blockquote>
<p>Thật khó để tin được rằng Genghis Khan là một người hoàn toàn cởi mở và ham học hỏi. Mỗi lần chinh phạt được một thành bang, ông sẽ chia thường dân và học giả làm 2 hàng. Với những người thường dân mà có nghề nghiệp ổn định (kiểu kỹ sư, đầu bếp, thợ xây...) họ sẽ được ông đưa về Mongol để xây dựng bộ lạc. Ngoài ra, ông không hề bắt những người hồi giáo phải bỏ đạo, họ được quyền có tín ngưỡng của riêng họ, được thờ cúng và xây dựng đền đài. Đây là một bước tiến vượt bậc nếu so với cuộc thánh chiến của kỵ sĩ Paladin và Hồi giáo Mameluke.</p>
</blockquote>
<ol start="5">
<li>Người Mongol khoẻ mạnh hơn các bộ tộc trồng lúa vì họ ăn thịt và không lạm dụng quá nhiều đường.</li>
</ol>
<blockquote>
<p>Các bạn ăn theo chế độ low-carb chắc thích sống kiểu Mongol. Những chiến binh Mongol họ ăn uống một chế độ gìau protein và ít chất đường bột hơn bất kì những binh lính nào khác. Ngoài ra, những kị binh Mongol, thường có một tảng thịt mang theo bên mình và để dươí yên ngựa, mục đích là khi phi ngựa đường xa, miếng thịt sẽ trở nên mềm hơn, và khi cần ăn uống họ chỉ cần xẻ thịt ăn, và uống một ít sữa cừu lên men. Có lẽ nhờ chế độ này nên quân Mongol có thể hành quân khá nhanh và đánh đấm được lâu hơn.</p>
</blockquote>
<ol start="6">
<li>Nhờ người Mongol mà giao thương giữa Âu - Á được thuận lợi, mở ra kỷ nguyên <strong>con đường tơ lụa.</strong></li>
</ol>
<blockquote>
<p>Ngày xưa mình cứ nghĩ con đường tơ lụa là thời nhà Đường, thật ra vẫn chưa chính xác. Thời Nhà Đường chỉ mới mở rộng giao thương tới Ấn Độ là cùng, vẫn chưa thể mở rộng được giao thương tới châu Âu. Người đầu tiên làm được việc đó chính là Genghis Khan. Với việc vó ngựa Mongol trải dài từ Đông sang Tây như hình bên dưới, việc phải có một đội ngũ Logistics chuyên lo việc đưa thư cũng như giao dịch là cực kì cấp thiết. Chính Genghis Khan là người nghĩ ra chế độ trạm thư khi đưa thư. Cứ mỗi 30km sẽ có một trạm thư, nơi thư từ và bưu chính được phân chia, xử lý. Nếu không có hệ thống hậu cần hoàn chỉnh thì đế chế Mongol không bao giờ có thể rộng lớn được như vậy.</p>
<p><img src="https://s3-ap-northeast-1.amazonaws.com/blog-khanh/assets/img/Genghis_khan_empire_at_his_death.png" alt="Bản đồ đế chế Mongol (1227)" /></p>
</blockquote>
<ol start="7">
<li>Ông không tàn sát người dân như trong lịch sử châu Âu ghi lại </li>
</ol>
<blockquote>
<p>Cái này cũng rất là mơ hồ, vì hầu hết chúng ta thường được nghe việc tàn sát người dân của người Mongol thông qua các sử gia Châu Âu. Tuy nhiên ngoài việc xử lý tầng lớp quý tộc của những thành bang mà ông ấy chiếm, việc tàn sát người dân không được ghi lại rõ ràng, ngoài ra cộng với việc mong muốn giao thương giữa các địa bàn mà ông ấy chiếm được mình không cho rằng Genghis Khan là người cổ xuý cho những việc này. Ông không coi việc chém giết là thú vui như một vài thú vui của quí tộc phương Tây thời đó. </p>
</blockquote>
<p>Quyển sách đề cập khá là nhiều về văn hoá, tín ngưỡng của người Mongol, thông qua hình ảnh của Genghis Khan, ông có thể xem là một người có tư duy đổi mới, sáng tạo, bình đẳng (ông là vua duy nhất xem trọng vai trò của Phụ nữ mà mình biết, tất nhiên ông không bị ảnh hưởng của Nho giáo, cũng như các học thuyết khác từ Trung Hoa nên có thể ông có cái nhìn đặc sắc và mới lại hơn. )</p>
<p>Nhưng thiết nghĩ đây cũng là lúc trả lại ông ấy vào vị trí xứng đáng, thay vì xem ông ấy và Mongol là một lũ mọi rợ. </p>
<p><strong>Ngoài lề:</strong> Mông Cổ hiện giờ đã bị phá nát văn hoá khá nhiều do bị Trung Quốc cũng như Liên Bang Xô Viết quản lý, chữ viết của họ ( giống như chữ viết của người Uighur) đã bị huỷ thay vào đó là chữ Cyrillic, những người trẻ Mông Cổ bị cấm tìm hiểu về ông cha của họ, về tổ tiên của mình, hầu hết gia phả đều bị huỷ... nếu là những người Mông Cổ trẻ và đọc những bài viết này, ắt hẳn họ sẽ thêm tự hào về nguồn gốc của họ.</p>
<h2>So What's Next ?</h2>
<p>Mình đã đọc quyển này, tuy nhiên chưa có review, <a href="https://www.goodreads.com/book/show/402843.Zen_Mind_Beginner_s_Mind">Zen Mind Beginner's Mind</a> do vẫn còn hơi mông lung vài chỗ. Chắc sẽ có review sớm thôi, khi mình có thời gian.</p>    ]]></content>
</entry>
            <entry>
    <id>https://blog.khanh.page/blog/what-i-read-the-hard-thing-about-hard-thing</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/what-i-read-the-hard-thing-about-hard-thing" />
    <title>What I read - The Hard Thing About Hard Things - Building a Business When There Are No Easy Answers</title>
    <published>2019-03-19T00:00:00+00:00</published>
    <updated>2019-03-19T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">Nhân ngày cuối tuần rảnh rỗi chờ đồ đang giặt, mình sẽ viết vài dòng về quyển sách này, mình nghĩ đây thực sự là một quyển sách rất đáng đọc cho những người muốn xây dựng một tổ chức hay......</summary>
    <content type="html"><![CDATA[
        <p>Nhân ngày cuối tuần rảnh rỗi chờ đồ đang giặt, mình sẽ viết vài dòng về quyển sách này, mình nghĩ đây thực sự là một quyển sách <em>rất đáng đọc</em> cho những người muốn xây dựng một tổ chức hay một công ty khởi nghiệp : -)</p>
<p>Quyển sách bao gồm 9 phần như bên dưới</p>
<ol>
<li>Từ chủ nghĩa cộng sản tới nhà đầu tư mạo hiểm</li>
<li>“Tôi sẽ tồn tại”</li>
<li>Cảm xúc với khoảng thời gian</li>
<li>Khi tất cả mọi thứ nằm ngoài tầm kiểm soát</li>
<li>Quan tâm đến : Con người, Sản phẩm và Lợi Nhuận - theo thứ tự như thế</li>
<li>Để ý tới những vấn đề đang cần được để ý : ))</li>
<li>Cách dẫn đường ngay cả khi bạn không biết rõ tổ chức sẽ đi về đâu</li>
<li>Luật đầu tiên của khởi nghiệp : Không có</li>
<li>Kết thúc của sự bắt đầu.</li>
</ol>
<p>Chà có vẻ hơi hàn lâm. Nhưng thôi sau đây mình sẽ viết vài nhận xét của mình.
Quyển này kể về cái con đường mà Ben Horowitz, và đồng sự của ông đã startup, kể từ lúc ông tốt nghiệp và làm cho Netscape sau đó cùng với bạn ông là Andressen ( giờ mình mới biết bác này là người viết nên Mossaic, tiền thân của các thể loại Web Browser hiện giờ <a href="https://en.wikipedia.org/wiki/Mosaic_(web_browser)">Mosaic (web browser) - Wikipedia</a>)</p>
<p>Trong đó ấn tượng, nhất với mình là câu chuyện về làm sản phẩm và cách vượt qua những giai đoạn khó khăn, khi mà CEO là người phải đưa ra quyết định về hướng đi cho công ty dựa trên rất, rất nhiều dữ kiện (và không bao giờ là đủ.)
Trước tiên, một CEO, cần phải là <em>người định nghĩa sản phẩm</em> vì ?</p>
<ul>
<li>“Customer only knows what she thinks she wants based on her experience with the current product”: Chúng ta có thể lắng nghe customer, nhưng việc quyết định các tính năng cần thiết của sản phẩm phải là việc của CEO và cộng sự. </li>
</ul>
<p><em>Chương 4</em> là một chương cực hay, chúng ta có thể tham khảo , vì chương này chủ yếu đề cập đến các vấn đề của một startup, ví dụ như : định nghĩa về sự <em>đấu tranh</em> (struggle), một startup luôn luôn phải chống chọi với nó. Struggle không phải là thất bại, nó có thể gây ra sự thất bại (tất nhiên rồi) nhưng đó cũng là nơi bắt đầu của sự <em>Vĩ đại</em>. Tiếp theo nó đề cập đến <em>sự thành thật</em>. Công ty đang khó khăn và bạn phải cho thôi việc hơn 1/2 số nhân viên, tốt thôi, bạn là CEO hãy nói điều đấy với các nhân viên ngay khi bạn đã ra quyết định thôi việc. Nếu là mình, làm việc tại một cty mà cứ nơm nớp nhận mail cho thôi việc thì chắc hiệu suất công việc sẽ giảm, đó là điều chắc chắn.
Và khi đó, những người quản lý trực tiếp phải là người ra quyết định cho thôi việc cấp dưới của họ. HR chỉ có nhiệm vụ gửi mail, vì chính manager mới là người sâu sát và nắm được nhân viên nào nên đi, nhân viên nào nên ở.
Một vấn đề mình thấy khá hay nữa là: <em>Giáng cấp</em> : )).  Khi startup có những người bạn thân đã cùng chúng ta startup, từ lúc cty mới có 5 người cho tới khi phát triển lên cả trăm người. Tới một lúc bạn nhận thấy, người bạn đó không còn khả năng điều hành <em>một nhóm lớn tầm 40 người</em>  chẳng hạn. Bạn phải giáng cấp. Làm nó như thế nào, để người bạn kia không cảm thấy bị <em>phản bội</em> hay <em>quê</em> cũng là một chủ đề quan trọng. </p>
<p><em>Chương 5</em> thiên về phát triển và mở rộng tổ chức, chủ yếu là</p>
<ul>
<li>Xây dựng quy trình tuyển dụng, ở đây mình thấy có một bài học khá quý giá tác giả đề cập: <em>Hire for their strength rather than lack of weakness</em>, đại để là tuyển dụng một người mà làm tốt công việc mà họ sẽ làm, thay vì là tuyển một người cái gì cũng làm được nhưng không giỏi xuất sắc cái gì.</li>
<li>Training nội bộ công ty: Ok, dù là startup nhưng cũng cần phải có training nội bộ, đừng lấy cái cớ là không có thời gian, hay phải ưu tiên cơm áo gạo tiền (nếu thế bạn cần phải quay lại tiêu đề chương 5, xem lại thứ tự ưu tiên. Bên dưới là vài lý do trong sách mình thấy hay
<ul>
<li><em>Tăng năng suất</em>:</li>
<li><em>Giúp có thể đánh giá được chất lượng công việc của nhân viên</em> bạn train một người và xây dựng một bộ quy tắc đánh giá chất lượng, họ sẽ lấy bộ quy tắc làm chuẩn, và sẽ tất cả mọi người sẽ có cùng 1 bộ tiêu chuẩn.</li>
<li><em>Quản lý chất lượng</em>: nếu không được training về chất lượng (ví dụ như mình làm Software Development, nếu không được training về một bộ Tiêu chuẩn lập trình aka Coding Convention chẳng hạn) mình sẽ code lung tung beng, copy những đoạn code có sẵn, code trên mạng, và cuối cùng, sản phẩm của mình sẽ là một thứ hỗn độn</li>
<li><em>Giữ chân được nhân viên</em>: thông thường thì nhân viên sẽ có hướng phát triển của riêng họ, và nếu công ty không có training, không giúp nhân viên học được những thứ mới, thì đây cũng sẽ là một lý do để họ rời bỏ.
Nếu làm tốt những điều trên, đây sẽ là một môi trường tốt để nhân viên làm việc, đa phần mình thấy những công ty trước mình làm (điển hình là cty E+1)  thường mọi người sẽ đấu đá lẫn nhau, đôi khi còn không biết mình vào cty để làm gì, và khi kết thúc công việc họ cũng không có cách nào đo đếm công việc đã hoàn thành chưa, chất lượng là tốt - xấu hay tệ…
Chương 5 này còn đề cập tới một vấn đề mà mình đã từng trải nghiệm nhưng không biết gọi tên nó là gì : <em>Technical Debt</em>. Thuật ngữ <em>“Technical Debt”</em> hay được dùng trong giới Engineer, ở đó :
/Chúng ta sẽ mượn thời gian, để viết những đoạn code nhanh và không tốt/ để hoàn thành kịp deadline. Đôi khi mình thấy viết nhanh để kịp deadline là có ý nghĩa, nhưng thường thì đây chỉ là một cách trì hoãn cho những vấn đề lớn hơn sẽ xảy ra sau khi release thôi : ))</li>
</ul></li>
</ul>
<p><em>Chương 6</em> thiên về vận hành tổ chức và khi startup đã đi vào quỹ đạo,lúc này công ty đã không phải ở mức <em>Sống hay Chết</em> mà có khoảng thời gian để phát triển, lúc này chính là những lúc có thể xem là <em>/bình yên trước bão/</em> :)) , vì sắp tới sẽ phải đối diện với </p>
<ul>
<li>Chính trị</li>
<li>Phong quan chức ( hơi giống mấy bộ phim Tàu, kiểu phải có tước hiệu cho từng người trong cty), kiểu này cũng có 2 trường phái
<ul>
<li>Không tước hiệu (mọi thứ bình đẳng)</li>
<li>Chức là free có thể dùng thoải mái và ai cũng có : ))</li>
</ul></li>
<li>Văn hoá: cái này được bàn kĩ, mà mình cũng thích suy nghĩ về văn hoá. Vậy thì sẽ có các câu hỏi như :
<ul>
<li>Văn hoá là gì ??</li>
<li>Văn hoá có ảnh hưởng như thế nào với cty ???
Khi trả lời được các câu hỏi trên, mình mới thấy rằng công ty E+1 đã rất mạnh trong việc build văn hoá, và nhờ bộ văn hoá đó mà công ty có thể sống được với giá trị cốt lõi của nó đưa ra (tuy nhiên mình không nghĩ bộ văn hoá của công ty E+1 là phù hợp với mình ). Dù sao đi nữa, nếu đã đạt đến một mức độ thành công nhất định, sẽ thật là đau khổ khi không thấy văn hoá của cty đâu…(aka còn gọi là công ty giàu nhưng vô văn hoá : )) trọc phú chẳng hạn… ) </li>
</ul></li>
</ul>
<p><em>Chương 7</em> đề cập đến công việc của một CEO một cách trần trụi và rõ ràng nhất : “<em>Ra quyết định</em>”.  Thật sự thì có cả tỉ thứ CEO phải ra quyết định từ việc nội bộ như : thuê ai , không thuê ai, cấu trúc hệ thống như nào, lương thưởng cho đến nhận đầu tư hay không nhận, bán mua công ty….
Tất nhiên là có những lúc stress, nhưng CEO thành công là những người vượt qua được và “<em>đối diện với nỗi đau</em>” (và tất nhiên vì đối diện được nên họ cũng rất dũng cảm nữa :D ).
Và, không ai sinh ra là một CEO cả, CEO là một ngành không thuộc về tài năng, nó thuộc về nỗ lực và sự học hỏi, đôi khi còn phải có dũng cảm nữa.
<em>CEO are made not born</em>. </p>    ]]></content>
</entry>
            <entry>
    <id>https://blog.khanh.page/blog/what-i-read-napoleon-a-life</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/what-i-read-napoleon-a-life" />
    <title>What I read - Napoleon</title>
    <published>2019-03-19T00:00:00+00:00</published>
    <updated>2019-03-19T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">Hôm nay tự nhiên nghe bài Cát bụi của Trịnh Công Sơn, mình lại nhớ đến quyển sách mình mới đọc hồi đầu năm, về một thần tượng của mình từ nhỏ đến giờ đó là Napoleon
Trước giờ mình toàn......</summary>
    <content type="html"><![CDATA[
        <p>Hôm nay tự nhiên nghe bài <strong>Cát bụi</strong> của Trịnh Công Sơn, mình lại nhớ đến quyển sách mình mới đọc hồi đầu năm, về một thần tượng của mình từ nhỏ đến giờ đó là <strong>Napoleon</strong></p>
<p>Trước giờ mình toàn đọc về <strong>Napoleon</strong> thông qua các quyển sách kiểu tuyển tập, hay <em>Thập đại tùng thư</em> chưa bao giờ đọc một quyển kiểu về cuộc đời, như thế này (đa phần các quyển lịch sử của mình đọc ngày xưa cũng nói vế các sự kiện, mà trong đó con người nhân vật thường không được miêu tả một cách rõ ràng nhất.)</p>
<p>Quyển sách này do tác giả <strong>Andrew Roberts</strong> một nhà lịch sử người Anh (trớ trêu là ngày xưa người ghét <em>Napoleon</em> nhất lại là người Anh) lại viết về Napoleon, và hơn hết quyển sách này cho thấy một Napoleon rất khác những cuốn trước mà mình đã đọc, nó nhắc đến <strong>cuộc đời của Napoleon</strong> chứ không phải là <strong>Napoleon's Wars</strong> hay <strong>Campaign</strong>.</p>
<p>Ít người biết rằng <strong>Napoleon không phải là người Pháp</strong>. Khó có thể nói ông thuộc Pháp Quốc, vì đảo Corsica ban đầu thuộc về Italy và tổ tiên của Napoleon cũng có gốc là người Ý chứ không phải nguòi Pháp. Napoleon có một cuộc sống khá nghèo, với ông bố nợ nần, nhưng lại <strong>có một người mẹ cực kì tốt</strong>, trong cuốn hồi kí còn đề cập đến một câu nói cực kì hữu thú vị, lúc đó Napoleon đã trở thành vua của nước Pháp. Đại để là một lần, khi thấy số tiền mà Napoleon cấp dưỡng cho bà, nhưng bà không dùng đến, Napoleon đã đến và hỏi bà và nhận được câu trả lời: <em>&quot;Ta tiết kiệm số tiền này, vì biết đâu có khi đám con Nữ Hoàng, Hoàng Đế của ta lại sẽ có lúc dùng đến&quot;</em>, và lời tiên liệu của bà không sai, vài năm sau bà đã có dịp dùng đến số tiền đó, khi Napoleon bị đày sang đảo Elba.</p>
<p><strong>Napoleon cực kì chăm đọc sách</strong>, và sách mà ông đọc là sách lịch sử, về các vị tướng quân, ông cũng đọc các sử thi, anh hùng ca, mình nghĩ chính những sách lịch sử này đã làm dậy lên trong ông tinh thần quốc gia, và yêu nước. Chính vì thế ngay cả khi xin vào học trường sĩ quan pháo binh, ông cũng rất chăm chỉ đọc sách, đến nỗi nhà chỉ có mỗi cái ghế, giường, còn lại là sách.
Có thể nói nghịch cảnh từ nhỏ đã tạo cho Napoleon được một đức tính khá có ích là <strong>Tiết kiệm</strong> nhờ thế mà ở chiến dịch làm nên tên tuổi của mình, ông đã có thể phát huy được nó, và làm cho nên một trận Toulon lịch sử, để đưa ông tiếp cận được với giới quí tộc nước Pháp.</p>
<p>Sau khi tham gia vào giới quí tộc nước Pháp,  Napoleon đã gặp được một người phụ nữ quan trọng nhất trong cuộc đời mình, đó chính là vợ ông <strong>Josephine</strong>. Josephine là vợ goá của một quí tộc Pháp, mà quí tộc Pháp thì bà nào bà nấy đều có quan hệ ngoài luồng, bà này cũng không ngoại lệ, vậy mà khi đăng quang làm Hoàng đế Pháp, Napoleon vẫn tấn phong bà này làm Hoàng Hậu, thật là khó hiểu !!???
Và có một thói quen khá hay là mỗi lần Napoleon đi chiến dịch xa đều viết thư cho Josephine kể đầy đủ tình hình của ông , dù bà này ở Pháp quốc thì đang ngoại tình với một ông khác ?? : D ??
Nhưng vẫn phải công nhận, Josephine chính là thần May Mắn của Napoleon, sau khi quen biết bà, sự nghiệp của Napoleon đã lên như diều gặp gió, từ một sĩ quan pháo binh cấp thấp, có thể bước vào giới quí tộc Pháp và trở thành Vua của Pháp.
Có một điều rất hay là Napoleon là người đã đặt ra chế độ <strong>Quân đoàn</strong> hay còn gọi là <strong>Corps</strong> , đây là một chế độ cực kì hiệu quả trong các cuộc chíến khi nó có thể vận dụng ưu thế di chuyển tối đa mà cũng có thể tạo thành nhiều hướng tấn công khi mỗi Quân đoàn có thể xem là một đơn vị tác chiến - hành quân độc lập. Nhờ chế độ này mà Napoleon đã làm gỏi liên quân Nga - Áo trong trận Austerlitz (may mắn là nếu không có Davout dũng cảm chiếm được Pratzen để đưa pháo lên thì chắc người bị dồn xuống hồ là Napoleon)</p>
<p>Cơ mà đó là những gì mình đọc về chiến dịch, mình cũng không định nói quá nhiều. Hãy đề cập về những biến đổi về mặt xã hội của Napoleon </p>
<ul>
<li>Ông là người đặt nền móng cho bình đẳng xã hội </li>
<li>Ông là người đã tạo ra bộ luật Napoleon - Có thể xem là bộ luật dân sự hiện đại đầu tiên của thế giới</li>
<li>Ông là người làm rung chuyển chế độ Phong Kiến ở Châu Âu (một thường dân mà dám lên làm vua của một nước )</li>
<li>Ông là người tạo ra chế độ hành chính hiệu quả từ Trung Ương đến địa phương</li>
<li>Ông là người phục hồi lại Paris, mang Paris trở thành kinh đô của thời trang văn hoá của châu Âu (để đến bây giờ vẫn còn là quốc gia tiên phong trong lĩnh vực thời trang và xa xỉ  ) </li>
</ul>
<p>Về mục tiêu cuộc đời, <strong>Napoleon làm mọi thứ đều cho Pháp</strong>, đơn cử như việc khi đang chinh chiến ở Ai Cập nhưng nghe tin chính phủ quyết định kí hoà đàm cắt lại những lãnh thổ ở Ý mà Napoleon đã giành được, ông lập tức lên tàu trở về châu Âu để làm cho ra lẽ.
Napoleon không bao giờ chịu dừng lại, nên việc mang chiến tranh tới nước Nga cũng là bắt đầu cho điểm suy tàn của ông, à mà có lẽ nên nói lại 1 tí về Josephine. Bà này thì đúng là kiểu phụ nữ có tiền mà chồng đi chinh chiến xa, lúc nào cũng có tình nhân vây quanh, nhưng tới lúc Napoleon đòi li dị vì bà không thể đẻ được cho ông đứa con nào, bà đã khóc lóc suốt 2 ngày liền cho tới khi được đưa ra khỏi cung điện Tuileries. Chẳng phải nói, Napoleon cũng đã cắt đi sợi dây liên kết với thần May mắn của mình.</p>
<p>Trong quan hệ với các tướng lĩnh, Napoleon cũng được xem là có số <strong>sát hữu</strong>  khi lần lượt những tướng quân và là bạn thân nhất của ông đều qua đời trên chiến trận : </p>
<ul>
<li>Jean Lannes : đây có thể gọi là người bạn thân thiết nhất của Napoleon, một vị chỉ huy kỵ binh tài năng thật sự, nhưng mất đi quá sớm trong trận Aspern-Eslings, nếu Lannes không qua đời sớm, thì chiến dịch của Napoleon ở Nga có thể thành công thay vì thất bại sml. </li>
<li>Michel Ney: đây cũng là một trong những vị tướng được mệnh danh <em>the bravest of the brave</em>, dù không phải là không có mâu thuẫn với Napoleon, nhưng khi Napoleon trở về từ Elba, ông này đã theo phò tá và khi bị thua trong trận Waterloo, ông có một câu nói khá bất hủ : <em>”I’m French, and I will remain French”</em>. (Ông có quốc tịch Phổ, nếu ông nhận ông là người Phổ thì sẽ không bị xử tử)</li>
</ul>
<p>Nói về vợ thì Napoleon có 2 vợ, một là Josephine và người thứ 2 là bà Marie Louise (Duchess of Parma).
Bà vợ đầu thì chững chạc , còn bà vợ 2 thì đúng kiểu là một công chúa, thích được quan tâm và chăm sóc. Có một đoạn trong sách kể khi Napoleon đang tham gia chiến dịch ở Nga, do đường tiếp vận bị cắt đứt nên không thể viết thư về cho Marie, bà này liền hỏi, <em>”Không biết chàng đã có ai ngoài kia hay sao mà lâu rồi không biên thư cho ta”</em> . Và chẳng mấy chốc sau khi Napoleon bị đày đi Elba, bà ấy đã sa vào vòng tay ái tình của một người khác và chưa bao giờ đến Elba để thăm chồng như lời cuối trong thư đã hứa.</p>
<p>Có một bức tranh mô tả cảnh Napoleon chia tay đội cận vệ của ông, nói chung là mình thấy đội này rất cool và cũng rất là trung thành với Napoleon. Đây là đội quân duy nhất mà có thể phàn nàn về tất cả mọi điều, từ quân trang đến chiến dịch, chỗ cắm trại và thậm chí là cả hoàng đế. Mới nghe thì có vẻ giống vụ kiêu binh của vua Lê chúa Trịnh nhưng đội quân này lại không hề có cách ứng xử như kiêu binh. Họ cực kì tuân thủ kỷ luật, và cực kì trung thành với Napoleon. Đến nỗi khi mà cháu của ông là Louis Napoleon (tức Napoleon đệ tam ) lên, những người lính nằm trong đội cận vệ này đã mặc lại quân phục và tham gia diễu hành. Tất nhiên, cận vệ của Napoleon đệ tam thì thua xa đệ nhất.
<img src="/assets/img/napoleon-good-bye-old-guard.jpeg" alt="old-guard" /></p>
<p>Napoleon sau khi bị đày ra St Helena, sống cuộc đời bình dị, học tiếng Anh, ông không được đọc nhiều về châu Âu cũng như Pháp quốc của mình, nhưng châu Âu thì đã mãi mãi thay đổi, chế độ phong kiến lung lay tận gốc rễ, nền cộng hoà nhen nhóm ở khắp các nơi. Napoleon trút hơi thở cuối cùng ở St Helena lúc 5.5.1821 ( theo nghiên cứu sau này cho thấy ông đã bị nhiễm độc asen) , trước khi chết ông nói câu sau : “Pháp, quân đội, tướng lĩnh, và Josephine” đó là những thứ quan trọng nhất với ông trong cuộc đời, Quốc Gia, Binh Nghiệp và Gia đình.  </p>    ]]></content>
</entry>
            <entry>
    <id>https://blog.khanh.page/blog/til-mongodb-with-fuelphp</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/til-mongodb-with-fuelphp" />
    <title>TIL - MongoDB with FuelPHP (PHP7.x)</title>
    <published>2019-03-19T00:00:00+00:00</published>
    <updated>2019-03-19T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">Due to lack of keyboard and my own intend to write in English.
From now on, all of my blog post will be written in English, but I will try to translate some of its content to Vietnamese to encourage reader from Vietnam
(Of course I want to encourage......</summary>
    <content type="html"><![CDATA[
        <p>Due to lack of keyboard and my own intend to write in English.
From now on, all of my blog post will be written in English, but I will try to translate some of its content to Vietnamese to encourage reader from Vietnam
(Of course I want to encourage Vietnamese reader to learn another )</p>
<h2>FuelPHP and MongoDB</h2>
<h3>1. The Story of PHP MongoDB Driver.</h3>
<p>Yes, the FuelPHP core has a class support for MongoDB a long, long time ago.
We can find it here
<code>fuel/core/classes/mongo/db.php</code></p>
<p>But the problem is, MongoDB PHP Driver has been re-written.
<a href="https://derickrethans.nl/new-drivers.html">Link</a>
Denik Rethans has started to become a MongoDB PHP Driver maintainer around 2012, and he released it around the end of 2015 and this driver supported the newer PHP7.x
You can read more about the story why he undertook this effort as well as the architect under the hood <a href="https://derickrethans.nl/new-drivers-part2.html">here</a> . </p>
<p>Now we move on to the next, integrate the new driver with the FuelPHP framework.
To integrate the framework with our current blogpost</p>
<pre><code></code></pre>    ]]></content>
</entry>
            <entry>
    <id>https://blog.khanh.page/blog/nmap-for-check-ssl-tls</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/nmap-for-check-ssl-tls" />
    <title>Dùng nmap để check ssl và tls</title>
    <published>2019-03-18T00:00:00+00:00</published>
    <updated>2019-03-18T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">
Hôm nay mình được assign một task liên quan đến dùng check ssl, tls
Thật ra original là từ cái này CVE-2016-2183
Rất không may là nó dính lỗi &lt;code&gt;Sweet32&lt;/code&gt; nên mình phải bỏ nó ra khỏi cipher suite trong......</summary>
    <content type="html"><![CDATA[
        <h2>Mở đầu</h2>
<p>Hôm nay mình được assign một task liên quan đến dùng check ssl, tls
Thật ra original là từ cái này <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-2183">CVE-2016-2183</a>
Rất không may là nó dính lỗi <code>Sweet32</code> nên mình phải bỏ nó ra khỏi cipher suite trong Apache. Đây là suy nghĩ của mình</p>
<ul>
<li>Check list cipher suite đang được enable bởi server hiện tại</li>
<li>Bỏ settings của 3DES</li>
<li>Check lại list cịper suite của server mất đi 3 cái cipher đang weak chưa</li>
</ul>
<h2>Check list cipher suite đang được enable</h2>
<p>Mình dùng <code>nmap</code> để check thử trang blog của mình xem như nào <code>blog.khanh.page</code></p>
<pre><code> nmap --script ssl-enum-ciphers -p 443 blog.khanh.page

PORT    STATE SERVICE
443/tcp open  https
| ssl-enum-ciphers:
|   TLSv1.1:
|     ciphers:
|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A
|     compressors:
|       NULL
|     cipher preference: server
|   TLSv1.2:
|     ciphers:
|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A
|       TLS_RSA_WITH_AES_128_GCM_SHA256 (rsa 2048) - A
|       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 2048) - A
|       TLS_RSA_WITH_AES_128_CBC_SHA256 (rsa 2048) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A
|     compressors:
|       NULL
|     cipher preference: server
|_  least strength: A
</code></pre>
<p>Ok ngon quá. Trang của mình có strength được đánh giá loại <code>A</code> này.
Thử với một trang khác của công ty xem nào (cái này mình không public được)</p>
<pre><code>PORT    STATE SERVICE
443/tcp open  https
| ssl-enum-ciphers: 
|   TLSv1.0: 
|     ciphers: 
|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A
|       TLS_DHE_RSA_WITH_AES_256_CBC_SHA (dh 2048) - A
|       TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_CAMELLIA_256_CBC_SHA (rsa 2048) - A
|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A
|       TLS_DHE_RSA_WITH_AES_128_CBC_SHA (dh 2048) - A
|       TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_CAMELLIA_128_CBC_SHA (rsa 2048) - A
|       TLS_DHE_RSA_WITH_SEED_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_SEED_CBC_SHA (rsa 2048) - A
|       TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA (secp256r1) - C
|       TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA (dh 2048) - C
|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C
|       TLS_RSA_WITH_IDEA_CBC_SHA (rsa 2048) - A
|     compressors: 
|       NULL
|     cipher preference: server
|     warnings: 
|       64-bit block cipher 3DES vulnerable to SWEET32 attack
|       64-bit block cipher IDEA vulnerable to SWEET32 attack
|   TLSv1.1: 
|     ciphers: 
|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A
|       TLS_DHE_RSA_WITH_AES_256_CBC_SHA (dh 2048) - A
|       TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_CAMELLIA_256_CBC_SHA (rsa 2048) - A
|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A
|       TLS_DHE_RSA_WITH_AES_128_CBC_SHA (dh 2048) - A
|       TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_CAMELLIA_128_CBC_SHA (rsa 2048) - A
|       TLS_DHE_RSA_WITH_SEED_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_SEED_CBC_SHA (rsa 2048) - A
|       TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA (secp256r1) - C
|       TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA (dh 2048) - C
|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C
|       TLS_RSA_WITH_IDEA_CBC_SHA (rsa 2048) - A
|     compressors: 
|       NULL
|     cipher preference: server
|     warnings: 
|       64-bit block cipher 3DES vulnerable to SWEET32 attack
|       64-bit block cipher IDEA vulnerable to SWEET32 attack
|   TLSv1.2: 
|     ciphers: 
|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (secp256r1) - A
|       TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 (dh 2048) - A
|       TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 (dh 2048) - A
|       TLS_DHE_RSA_WITH_AES_256_CBC_SHA (dh 2048) - A
|       TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_AES_256_GCM_SHA384 (rsa 2048) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA256 (rsa 2048) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_CAMELLIA_256_CBC_SHA (rsa 2048) - A
|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (secp256r1) - A
|       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (secp256r1) - A
|       TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 (dh 2048) - A
|       TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 (dh 2048) - A
|       TLS_DHE_RSA_WITH_AES_128_CBC_SHA (dh 2048) - A
|       TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_AES_128_GCM_SHA256 (rsa 2048) - A
|       TLS_RSA_WITH_AES_128_CBC_SHA256 (rsa 2048) - A
|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_CAMELLIA_128_CBC_SHA (rsa 2048) - A
|       TLS_DHE_RSA_WITH_SEED_CBC_SHA (dh 2048) - A
|       TLS_RSA_WITH_SEED_CBC_SHA (rsa 2048) - A
|       TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA (secp256r1) - C
|       TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA (dh 2048) - C
|       TLS_RSA_WITH_3DES_EDE_CBC_SHA (rsa 2048) - C
|       TLS_RSA_WITH_IDEA_CBC_SHA (rsa 2048) - A
|     compressors: 
|       NULL
|     cipher preference: server
|     warnings: 
|       64-bit block cipher 3DES vulnerable to SWEET32 attack
|       64-bit block cipher IDEA vulnerable to SWEET32 attack
|_  least strength: C
</code></pre>
<p>Ẹc, dính chấu rồi. Bị đánh giá loại <code>C</code> luôn.
Bây giờ mình đi fix cái lỗi này thử nhé.</p>
<h2>Bỏ settings của 3DES</h2>
<p>Bỏ đi settings của 3DES thì cũng khá đơn giản. ở đây mình sẽ hướng dẫn cho <code>nginx</code> cũng như <code>apache</code></p>
<h3>Nginx:</h3>
<p>Với <code>nginx</code> thì chúng ta settings cipher trong vhost của từng application. Chẳng hạn mình đang có một file như bên dưới </p>
<pre><code>server {
    listen 443 ssl http2;
    server_name ss_nps.test www.ss_nps.test *.ss_nps.test;
    root /;
    ssl_ciphers AES128-SHA:AES256-SHA:RC4-SHA:DES-CBC3-SHA:RC4-MD5;
    charset utf-8;
    client_max_body_size 128M;

    location /41c270e4-5535-4daa-b23e-c269744c2f45/ {
        internal;
        alias /;
        try_files $uri $uri/;
    }
    ...
}</code></pre>
<p>Hiên tại ciphers của bạn này đang bị lỗi ở :</p>
<pre><code>|       64-bit block cipher 3DES vulnerable to SWEET32 attack
|       Broken cipher RC4 is deprecated by RFC 7465
|       Ciphersuite uses MD5 for message integrity</code></pre>
<p>Tạm thời chúng ta chỉ đối ứng lỗi <code>3DES</code> trước bằng cách thêm <code>!3DES</code> vào cuối dòng <code>ssl_ciphers</code> như bên dưới </p>
<pre><code>ssl_ciphers AES128-SHA:AES256-SHA:RC4-SHA:DES-CBC3-SHA:RC4-MD5:!3DES;</code></pre>
<p>Kiểm tra lại bằng <code>nmap</code></p>
<pre><code>nmap --script ssl-enum-ciphers -p 443 ss_nps.test
Starting Nmap 7.70 ( https://nmap.org ) at 2019-03-18 16:06 JST
Nmap scan report for ss_nps.test (127.0.0.1)
Host is up (0.00051s latency).
rDNS record for 127.0.0.1: localhost

PORT    STATE SERVICE
443/tcp open  https
| ssl-enum-ciphers:
|   TLSv1.0:
|     ciphers:
|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_RC4_128_MD5 (rsa 2048) - C
|       TLS_RSA_WITH_RC4_128_SHA (rsa 2048) - C
|     compressors:
|       NULL
|     cipher preference: client
|     warnings:
|       Broken cipher RC4 is deprecated by RFC 7465
|       Ciphersuite uses MD5 for message integrity
|   TLSv1.1:
|     ciphers:
|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_RC4_128_MD5 (rsa 2048) - C
|       TLS_RSA_WITH_RC4_128_SHA (rsa 2048) - C
|     compressors:
|       NULL
|     cipher preference: client
|     warnings:
|       Broken cipher RC4 is deprecated by RFC 7465
|       Ciphersuite uses MD5 for message integrity
|   TLSv1.2:
|     ciphers:
|       TLS_RSA_WITH_AES_128_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_AES_256_CBC_SHA (rsa 2048) - A
|       TLS_RSA_WITH_RC4_128_MD5 (rsa 2048) - C
|       TLS_RSA_WITH_RC4_128_SHA (rsa 2048) - C
|     compressors:
|       NULL
|     cipher preference: client
|     warnings:
|       Broken cipher RC4 is deprecated by RFC 7465
|       Ciphersuite uses MD5 for message integrity
|_  least strength: C
</code></pre>
<p>Ngon lành. Lỗi <code>Sweet32</code> đã biến mất</p>
<h3>Apache</h3>
<p>Cũng tương tự <code>nginx</code> ta có thể chỉnh trong file vhost của apache, bằng cách thêm đoạn <code>!3DES</code> như bên dưới </p>
<pre><code>SSLCipherSuite DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!MD5:!PSK:!RC4:!3DES</code></pre>
<h2>Check lại list cịper suite của server mất đi 3 cái cipher đang weak chưa</h2>
<p>Với việc sử dụng <code>nmap</code> chúng ta có thể kiểm tra được các lỗi liên quan đến <code>ssl</code>, <code>tls</code> của server.
Tuy nhiên việc disable các ciphers trên có thể dẫn đến 1 số tình huống ví dụ như những browser quá cũ khi access vào sẽ không thể get data do chúng chỉ hỗ trợ cipher DES (ví dụ như: WinXP IE6, IE8).</p>    ]]></content>
</entry>
            <entry>
    <id>https://blog.khanh.page/blog/php-serverless-with-bref</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/php-serverless-with-bref" />
    <title>Bref.sh, một tools giúp chạy PHP trên AWS Lambda</title>
    <published>2019-03-04T00:00:00+00:00</published>
    <updated>2019-03-04T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">
Hôm nay mình rất là hứng thú khi AWS bắt đầu roll out layer cho serverless. Tại sao vậy ? Bởi vì khi roll out layer cho serverless, chúng ta có thể chạy bất kì ngôn ngữ lập trình nào trên lambda service :) Is it......</summary>
    <content type="html"><![CDATA[
        <h2>Mở đầu</h2>
<p>Hôm nay mình rất là hứng thú khi AWS bắt đầu roll out layer cho serverless. Tại sao vậy ? Bởi vì khi roll out layer cho serverless, chúng ta có thể chạy bất kì ngôn ngữ lập trình nào trên lambda service :) <strong>Is it cool?</strong></p>
<p>Lambda với layer được giới thiệu vào cuối tháng 11/2018 bao gồm các feature như bên dưới </p>
<ul>
<li><strong>Lambda Layers</strong>: một dịch vụ giúp chúng ta có thể chia sẻ những đoạn code common, hoặc runtime, hoặc data. Mỗi một layers, chúng ta có thể versioning chúng. Sẽ có một vài lợi ích khi sử dụng <strong>Lambda Layers</strong>:
<ul>
<li>Tách lớp</li>
<li>Giúp function code ít hơn, tập trung vào tính năng hơn </li>
<li>Tăng tốc deployment (do các libraries cũng như runtime đã được deploy sẵn)</li>
</ul></li>
<li><strong>Lambda Runtime API</strong>: Đây là một bộ API do AWS cung cấp (Http API) để từng <em>custom layers</em> có thể nhận events từ Lambda và gửi response lại cho Lambda, nói cách khác để các layers trong Lambda tương tác với nhau, chúng ta có thể sử dụng Lambda Layers</li>
</ul>
<h2>Bref là gì</h2>
<p>Bref là một bộ công cụ được cài đặt thông qua <code>Composer</code> (quá tuyệt vời), giúp chúng ta có thể deploy PHP applications lên AWS Lambda.
Vậy thì Bref sẽ hỗ trợ chúng ta những gì ?</p>
<ul>
<li>PHP Runtimes cho AWS Lambda</li>
<li>Công cụ để Deploy lên aws lambda </li>
<li>Intergrate với các PHP Framework (vâng, chạy <code>Laravel</code> or <code>Symfony</code> trên AWS Lambda là hoàn toàn khả thi và đơn giản hơn trước nhiều)</li>
</ul>
<p>Bref sử dụng <strong>SAM</strong> để deploy serverless application. AWS đã có tài liệu rất rõ ràng về SAM ở đây.</p>
<h3>Bref hoạt động như thế nào</h3>
<p>Hai thành phần chính của Bref bao gồm Stacks và SAM</p>
<h4>Stacks</h4>
<p>Thật ra khi deploy một application thì sẽ có 1 cloudformation stack được tạo ra, bao gồm:</p>
<ul>
<li>lambda functions</li>
<li>S3 bucket</li>
<li>databases</li>
</ul>
<p>Mỗi khi các bạn deploy thì toàn bộ stacks sẽ được update và khi xoá stack thì toàn bộ các component của nó cũng sẽ bị xoá. Sạch và đẹp nhỉ </p>
<h4>SAM</h4>
<p>SAM cung cấp cho chúng ta một format config đơn giản để có thể deploy một serverless application dễ dàng hơn. (gọi là dễ dàng nhưng chắc cũng cần vài bước chứ không chỉ bằng một nút bấm được)
Deploying sử dụng SAM thì bao gồm 3 steps</p>
<ul>
<li>Upload code lên S3 bucket</li>
<li>Generate một file S3 Config template</li>
<li>Deploy Cloudformation stack</li>
</ul>
<h3>Deploy với SAM</h3>
<h4>Create deployment bucket</h4>
<p>Đầu tiên chúng ta cần tạo deployment bucket (bucket này sẽ được quản lý bởi SAM, do đó chúng ta không được upload các file khác vào trong bucket này )</p>
<pre><code>aws s3 mb s3://&lt;bucket-name&gt;</code></pre>
<h4>Create Deployment bucket</h4>
<p><a href="https://aws.amazon.com/blogs/aws/new-for-aws-lambda-use-any-programming-language-and-share-common-components/">Lambda Layer Release </a></p>    ]]></content>
</entry>
            <entry>
    <id>https://blog.khanh.page/blog/my-first-blog-post</id>
    <link type="text/html" rel="alternate" href="https://blog.khanh.page/blog/my-first-blog-post" />
    <title>Tôi đã start cái blog này như thế nào ?</title>
    <published>2019-03-01T00:00:00+00:00</published>
    <updated>2019-03-01T00:00:00+00:00</updated>
    <author>
        <name>Khanh Nguyen</name>
    </author>
    <summary type="html">Ok. Nói cho đơn giản thì tôi đang có một cái blog ở đây: https://nech.info
Nhưng nó chạy trên wordpress, mà wordpress thì kiểu gì cũng phải tốn một con server cho nó.
Nên mình đã chuyển qua dùng cái này......</summary>
    <content type="html"><![CDATA[
        <p>Ok. Nói cho đơn giản thì tôi đang có một cái blog ở đây: <a href="https://nech.info">https://nech.info</a>
Nhưng nó chạy trên wordpress, mà wordpress thì kiểu gì cũng phải tốn một con server cho nó.
Nên mình đã chuyển qua dùng cái này</p>
<p><a href="https://jigsaw.tighten.co/">https://jigsaw.tighten.co/</a></p>
<h2>Đôi điều về jigsaw</h2>
<p>Jigsaw là một tools để generate html static pages, tạm dịch là trang tĩnh HTML, mà cái gì là static thì nhanh nhất rồi đấy.</p>
<h2>Cấu trúc server</h2>
<p>Trang web này mình tạo bao gồm các components sau:</p>
<ol>
<li>S3: tất cả những bài post này đều được viết dưới dạng markdown, và build thành static HTML rồi up lên S3</li>
<li>CloudFront: Dùng để cache resources vào các Edges để tăng tốc độ load trang </li>
<li>Goofys: Dùng để mount thư mục build lên S3</li>
</ol>
<p><img src="/assets/img/blog.khanh.page.png" alt="infrastructure" /></p>
<h2>Đôi điều suy nghĩ</h2>
<p>Mình luôn muốn làm một cái gì đó cho mọi người, ít nhất là có thể giúp họ trong việc cảm thấy được <strong>cảm hứng</strong>. Mình đã được rất nhiều những người xung quanh truyền cảm hứng, và bây giờ mình muốn <em>truyền lại một cho các bạn khác nữa</em></p>    ]]></content>
</entry>
    </feed>
